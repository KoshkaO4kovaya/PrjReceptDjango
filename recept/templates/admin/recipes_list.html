{% extends 'base.html' %}
{% block content %}
<h2>Все рецепты</h2>
<table class="table-auto w-full border-collapse border border-gray-200">
    <thead>
        <tr>
            <th class="border border-gray-300 px-4 py-2">Название</th>
            <th class="border border-gray-300 px-4 py-2">Автор</th>
            <th class="border border-gray-300 px-4 py-2">Статус</th>
            <th class="border border-gray-300 px-4 py-2">Дата создания</th>
            <th class="border border-gray-300 px-4 py-2">Жанры</th>
            <th class="border border-gray-300 px-4 py-2">Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for recipe in recipes %}
        <tr>
            <td class="border border-gray-300 px-4 py-2">{{ recipe.title }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ recipe.user.email }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ recipe.get_status_display }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ recipe.created_at|date:"d.m.Y" }}</td>
            <td class="border border-gray-300 px-4 py-2">
                {{ recipe.genres.all|join:", " }}
            </td>
            <td class="border border-gray-300 px-4 py-2">
                <a href="{% url 'admin_edit_recipe_genres' recipe.id %}" class="text-blue-600 hover:underline">Добавить жанры</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="6">Рецептов нет</td></tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
